<!--+ Warning: Content inside HTML comment blocks was generated by mdat and may be overwritten. +-->

# itson

<!-- badges -->

[![NPM Package itson](https://img.shields.io/npm/v/itson.svg)](https://npmjs.com/package/itson)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

<!-- /badges -->

<!-- short-description -->

**A CLI tool for configuration-driven application management for long-running interactive installations.**

<!-- /short-description -->

## Overview

Native implementations are used wherever possible (e.g. launchd for process management, the system keychain for credential storage.)

## Getting started

### Dependencies

### Installation

## Usage

### Configuration

Create an `itson.config.js` file in your home directory.

```js
export default {
  applications: [
    {
      command: '/Applications/AllWork.app/Contents/MacOS/AllWork',
      name: 'AllWork',
      updates: {
        artifactPattern: /^AllWork.+\.zip$/,
        destination: '/Applications/AllWork.app',
        owner: 'kitschpatrol',
        repo: 'allwork',
        type: 'github',
      },
    },
    {
      command: 'interpose',
      name: 'Interpose',
    },
  ],
  runOnStartup: true,
}
```

### Commands

<!-- cli-help {depth: 1} -->

#### Command: `itson`

Run an itson command. Defaults to `launch` if a command is not provided.

If no command is provided, `itson launch` is run by default.

Usage:

```txt
itson [command]
```

| Command    | Description                                                                                                               |
| ---------- | ------------------------------------------------------------------------------------------------------------------------- |
| `launch`   | Update, register, and start all managed applications with auto-restart enabled. _(Default command.)_                      |
| `start`    | Start all managed applications with auto-restart enabled.                                                                 |
| `stop`     | Stop all managed applications                                                                                             |
| `update`   | Update all managed applications to the latest available versions.                                                         |
| `register` | Register itson with the system according to the config file. Optionally run this after changing state in the config file. |
| `reset`    | Clear any credentials stored in the system keychain, and remove any registered services.                                  |

| Option              | Description              | Type      |
| ------------------- | ------------------------ | --------- |
| `--verbose`         | Run with verbose logging | `boolean` |
| `--help`<br>`-h`    | Show help                | `boolean` |
| `--version`<br>`-v` | Show version number      | `boolean` |

<!-- /cli-help -->

### Examples

## Background

### Motivation

### Implementation notes

### Similar projects

- AMPM
- pm2

## The future

## Maintainers

[@kitschpatrol](https://github.com/kitschpatrol)

<!-- contributing -->

## Contributing

[Issues](https://github.com/kitschpatrol/itson/issues) and pull requests are welcome.

<!-- /contributing -->

<!-- license -->

## License

[MIT](license.txt) Â© Eric Mika

<!-- /license -->

---

## Dev Notes

GitHub PAT must have contents:read and metadata:read permissions.

Keytar forks:

<https://github.com/makeproaudio/node-keytar>

Launchd helpers:

<https://github.com/bryanmacfarlane/svcinstall> (cross-platform)
<https://github.com/alex-kostirin/npm-launchctl-helper>
